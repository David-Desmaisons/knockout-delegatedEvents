// knockout-delegatedEvents 0.5.0 | (c) 2015 Ryan Niemeyer |  http://www.opensource.org/licenses/mit-license
!function(a){"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?a(require("knockout"),exports):"function"==typeof define&&define.amd?define(["knockout","exports"],a):a(ko,ko.actions={})}(function(a,b){function c(b,c,e){for(var f,g="data-"+e,h=d+e;!f&&b;)f=1===b.nodeType&&!b.disabled&&(b.getAttribute(g)||a.utils.domData.get(b,h)),f||(b=b!==c?b.parentNode:null);return f?{method:f,element:b}:void 0}var d="ko_delegated_",e=function(c,d,e,f){return function(g){var h,i,j,k,l,m,n,o=g.target||g.srcElement,p=f(o,d,c);if(p){o=p.element;var q=p.method;if(q){if(i=a.contextFor(o)){for(;o&&o!==d;){if(o.disabled)return;o=o.parentNode}h=i.$data,"string"==typeof q?(q in b?(m=b[q],m&&(j="function"==typeof m?m:m.action,k=m.owner||h)):h&&h[q]&&"function"==typeof h[q]&&(j=h[q],k=h),j||(l=a.utils.arrayFirst(i.$parents,function(a){return a[q]&&"function"==typeof a[q]}),j=l&&l[q],k=l)):"function"==typeof q&&(j=q,k=h)}j&&(n="submit"===c?j.call(h,g.target):j.call(k,h,g),n!==!0&&(g.preventDefault?g.preventDefault():g.returnValue=!1),e!==!0&&(g.cancelBubble=!0,"function"==typeof g.stopPropagation&&g.stopPropagation()))}}}},f=function(a){return"delegated"+a.substr(0,1).toUpperCase()+a.slice(1)},g=function(b){var c;b&&(c=f(b),a.bindingHandlers[c]||(a.bindingHandlers[c]={init:function(c,e){var f=e();a.utils.domData.set(c,d+b,f)}}))};a.bindingHandlers.delegatedHandler={init:function(b,d,h){var i=a.utils.unwrapObservable(d())||[];"string"==typeof i&&(i=[i]),a.utils.arrayForEach(i,function(d){var i=h.get(f(d+"Bubble"))===!0;g(d),a.utils.registerEventHandler(b,d,e(d,b,i,c))})}}});