// knockout-delegatedEvents 0.5.0 | (c) 2015 Ryan Niemeyer |  http://www.opensource.org/licenses/mit-license
!function(a){"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?a(require("knockout"),exports):"function"==typeof define&&define.amd?define(["knockout","exports"],a):a(ko,ko.actions={})}(function(a,b){function c(b){return function(c,d,e){for(var f="data-"+e+"-delegateFather";c&&!c.hasAttribute(f);)c=c!==d?c.parentNode:null;if(c){var g=a.dataFor(d)||{},h=g[b];if(h&&"function"==typeof h)return{method:h,element:c,owner:g}}}}function d(b,c,d){for(var f,g="data-"+d,h=e+d;!f&&b;)f=1===b.nodeType&&!b.disabled&&(b.getAttribute(g)||a.utils.domData.get(b,h)),f||(b=b!==c?b.parentNode:null);return f?{method:f,element:b}:void 0}var e="ko_delegated_",f=function(c,d,e,f){return function(g){var h=f(g.target||g.srcElement,d,c);if(h){var i,j,k,l,m,n,o=h.element,p=h.method,q=h.owner;if(p){if(j=a.contextFor(o)){for(;o&&o!==d;){if(o.disabled)return;o=o.parentNode}i=j.$data,"string"==typeof p?(p in b?(m=b[p],m&&(k="function"==typeof m?m:m.action,q=m.owner||i)):i&&i[p]&&"function"==typeof i[p]&&(k=i[p],q=i),k||(l=a.utils.arrayFirst(j.$parents,function(a){return a[p]&&"function"==typeof a[p]}),k=l&&l[p],q=l)):"function"==typeof p&&(k=p,q=q||i)}k&&(n="submit"===c?k.call(i,g.target):k.call(q,i,g),n!==!0&&(g.preventDefault?g.preventDefault():g.returnValue=!1),e!==!0&&(g.cancelBubble=!0,"function"==typeof g.stopPropagation&&g.stopPropagation()))}}}},g=function(a){return"delegated"+a.substr(0,1).toUpperCase()+a.slice(1)},h=function(b){var c;b&&(c=g(b),a.bindingHandlers[c]||(a.bindingHandlers[c]={init:function(c,d){var f=d();a.utils.domData.set(c,e+b,f)}}))};a.bindingHandlers.delegatedHandler={init:function(b,c,e){var i=a.utils.unwrapObservable(c())||[];"string"==typeof i&&(i=[i]),a.utils.arrayForEach(i,function(c){var i=e.get(g(c+"Bubble"))===!0;h(c),a.utils.registerEventHandler(b,c,f(c,b,i,d))})}},a.bindingHandlers.delegatedFatherHandler={init:function(b,d,e){var h=a.utils.unwrapObservable(d())||{};a.utils.objectForEach(h,function(d){var i=e.get(g(d+"Bubble"))===!0;a.utils.registerEventHandler(b,d,f(d,b,i,c(h[d])))})}}});